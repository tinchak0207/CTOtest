# 一键OCR生成题库功能测试指南

## ✨ 功能概述

本系统实现了完整的**一键从文档生成题库**流程：

1. **上传文档** (PDF/图片) 
2. **自动OCR识别** (中英文)
3. **一键生成题库** (配置题目类型、数量、模块)
4. **自动录入本地存储** 
5. **自动创建模拟考试** (可选)
6. **自动添加到复习计划** (可选)

## 📝 测试步骤

### 1. 启动应用

打开 `index.html` 或访问部署的URL

### 2. 进入文档中心

点击顶部导航的 "📄 文档中心" 或底部移动导航的 "文档" 按钮

### 3. 上传文档

**方式一：拖拽上传**
- 将图片或PDF拖拽到上传区域

**方式二：点击上传**
- 点击 "选择文件" 按钮
- 选择支持的文件格式：
  - 图片：JPG, JPEG, PNG (会自动OCR)
  - PDF：PDF格式 (需要手动转图片后OCR)

**测试建议：**
- 使用包含技术内容的图片（如教材、PPT截图、讲义）
- 文本内容应包含技术关键词（如：机器人、传感器、算法等）
- 文本长度至少50个字符

### 4. 等待OCR完成

- 上传图片后，系统会自动进行OCR识别
- 识别过程中会显示进度条
- 识别完成后，文档卡片会显示 "✓ OCR" 标记
- OCR内容会显示在右侧预览面板的底部

### 5. 生成题库

**步骤：**
1. 点击已上传且完成OCR的文档
2. 在右侧预览面板底部找到 **"🚀 一键生成题库"** 按钮
3. 点击按钮，弹出配置对话框

**配置选项：**
- **生成题目数量**：5-50题（默认10题）
- **题目类型**：
  - ✓ 单选题
  - ✓ 多选题
  - ✓ 判断题
  （可自由勾选组合）
- **题目模块**：选择题目归属模块
  - 自定义题库
  - 机器人基础
  - 传感器技术
  - 控制系统
  - 编程基础
  - 运动学
  - 视觉系统
  - 人工智能
  - 应用实践
- **自动添加到复习计划**：勾选后题目会自动加入间隔复习系统
- **立即生成模拟考试**：勾选后题目生成完毕会立即开始模拟考试

### 6. 开始生成

点击 **"🚀 开始生成"** 按钮

**生成流程：**
1. 分析文档内容 (20%)
2. 提取关键知识点 (40%)
3. 生成题目 (60%)
4. 保存到题库 (80%)
5. 完成 (100%)

### 7. 查看结果

生成完成后会显示统计结果：
- 题目总数
- 单选题数量
- 多选题数量
- 判断题数量

**可选操作：**
- **🚀 开始模拟考试**：如果勾选了"立即生成模拟考试"
- **📝 进入练习**：跳转到练习页面查看生成的题目
- **关闭**：关闭对话框

### 8. 验证题目

**方式一：进入练习页面**
1. 点击 "📝 进入练习" 或导航到 "智能练习"
2. 在模块筛选中选择对应的模块（如：自定义题库）
3. 查看生成的题目

**方式二：开始模拟考试**
1. 如果选择了立即开始考试，会自动跳转到考试页面
2. 答题并提交查看成绩

**方式三：查看复习计划**
1. 导航到 "📝 复盘回顾"
2. 查看 "待复习" 标签
3. 生成的题目会显示在复习列表中

## 🎯 功能亮点

### 1. AI智能生成
- 自动提取关键词和技术术语
- 智能识别句子结构
- 基于规则的题目生成算法
- 无需外部API，完全本地运行

### 2. 多种题型支持
- **单选题**：从文本中提取知识点，生成4个选项
- **多选题**：从相关内容中提取2-3个正确答案
- **判断题**：基于原文或修改后的陈述

### 3. 自动化流程
- OCR → 生成 → 存储 → 复习 → 考试，全流程自动化
- 无需手动录入题目
- 支持批量处理

### 4. 灵活配置
- 自定义题目数量和类型
- 选择题目归属模块
- 可选复习和考试功能

### 5. 即时反馈
- 实时进度显示
- 详细统计信息
- 美观的动画效果

## ⚠️ 注意事项

### 文本要求
- OCR文本需要至少50个字符
- 建议包含技术关键词以提高题目质量
- 文本结构清晰，语句完整

### 题目质量
- 生成的题目基于规则算法，质量取决于原文内容
- 建议在答题前检查题目的准确性
- 可以在笔记中标记需要修改的题目

### 性能考虑
- OCR识别可能需要几秒到几十秒（取决于图片大小）
- 题目生成是瞬时的（纯JavaScript运行）
- 所有数据存储在本地浏览器

## 🔧 技术实现

### 核心模块

1. **question-generator.js** (440行)
   - 规则引擎生成题目
   - 句子提取和关键词识别
   - 三种题型生成算法

2. **document-manager.js** (912行)
   - 文档管理和OCR集成
   - 生成流程UI控制
   - 进度追踪和结果展示

3. **app.js** (2194行)
   - 题目数据集成
   - 格式转换和兼容性处理
   - 复习和考试功能对接

### 数据流

```
文档上传 → OCR识别 → 提取文本
    ↓
用户配置 → 题目生成器 → 生成题目数组
    ↓
格式转换 → 添加到questionsData → 保存到localStorage
    ↓
显示在练习 / 加入复习 / 启动考试
```

## 📊 预期结果

### 成功标准
- ✅ 文档成功上传并OCR
- ✅ 生成按钮激活（非禁用状态）
- ✅ 配置对话框正常显示
- ✅ 生成进度正常展示
- ✅ 题目成功添加到题库
- ✅ 可以在练习页面看到题目
- ✅ 题目格式正确，可以答题

### 可能的问题
1. **OCR识别失败**：检查图片质量，确保文字清晰
2. **生成按钮禁用**：确认文档已完成OCR
3. **题目数量不足**：原文内容太少或不包含有效句子
4. **题目质量低**：原文结构不清晰或缺乏技术内容

## 🎓 使用建议

### 最佳实践
1. 使用高质量的教材或讲义图片
2. 确保文字清晰、对比度高
3. 一次上传多个相关文档
4. 分模块生成题库，便于管理
5. 定期复习生成的题目

### 进阶用法
1. 结合复习系统实现间隔记忆
2. 通过模拟考试检验学习效果
3. 在笔记中标注重点和易错题
4. 导出所有数据进行备份

## 🚀 快速开始示例

**场景：从机器人教材生成题库**

1. 准备：拍摄或截图教材的某一章节（图片格式）
2. 上传：拖拽图片到文档中心
3. 等待：OCR自动识别（约10-30秒）
4. 配置：
   - 题目数量：15题
   - 类型：全选
   - 模块：机器人基础
   - 自动复习：勾选
   - 模拟考试：不勾选
5. 生成：点击开始，等待3-5秒
6. 练习：进入练习页面，筛选"机器人基础"模块
7. 答题：开始学习新生成的题目

---

**享受一键生成题库的便捷！🎉**
